js中的数组等引用类型的值是存储在哪里的？
在JS中，每一个数据都需要一个内存空间。内存空间又被分为两种:
- 栈内存(stock)
- 堆内存(heap)。

### 栈内存保存：基础数据类型的值与引用类型的地址
JS中的基础数据类型，值都有固定的大小，都保存在栈内存中，由系统自动分配存储空间。

我们 **可以直接操作保存在栈内存空间**。因此基础数据类型都是按值访问。

数据在栈内存中的存储与使用方式类似于数据结构中的堆栈数据结构，遵循后进先出的原则。

要简单理解栈内存空间的存储方式，我们可以通过类比乒乓球盒子来分析。

这种乒乓球的存放方式与栈内存中存储数据的方式如出一辙。处于盒子中最顶层的乒乓球5，它一定是最后被放进去，但可以最先被使用。而我们想要使用底层的乒乓球1，就必须将上面的4个乒乓球取出来，让乒乓球1处于盒子顶层。这就是栈空间先进后出，后进先出的特点

### 堆内存保存：引用数据类型的值
JS中的引用数据类型，比如数组Array,它们的值大小是不固定的，它们都是保存在堆内存中的。

JavaScript **不允许直接访问堆内存空间**。因此不能操作引用类型的堆内存空间。引用类型会在栈空间中保存一个地址，该地址与堆内存的实际值相关联。

因此当我们要访问堆内存中的引用数据类型时，实际上我们首先是从栈中获取了该对象的地址引用（或者地址指针），然后再从堆内存中取得我们需要的数据。

要简单理解堆内存空间的存储方式，我们可以通过书架与书进行类比。书虽然也有序的存放在书架上，但是我们只要知道书的名字，我们就可以很方便的取出我们想要的书，而不用像从乒乓球盒子里取乒乓一样，非得将上面的所有乒乓球拿出来才能取到中间的某一个乒乓球。好比在JSON格式的数据中，我们存储的key-value是可以无序的，因为顺序的不同并不影响我们的使用，我们只需要关心书的名字。

### 总结
栈内存|堆内存
-----|---------
存储基础数据类型|存储引用数据类型
按值访问|按引用访问
存储的值大小固定|存储的值大小不定，可动态调整
由系统自动分配内存空间|由程序员通过代码进行分配
主要用来执行程序|主要用来存放对象
空间小，运行效率高|空间大，但是运行效率相对较低
先进后出，后进先出|无序存储，可根据引用直接获取


阅读更多: [详解JavaScript内存空间](https://juejin.im/entry/589c29a9b123db16a3c18adf)
